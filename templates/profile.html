{% extends "base.html" %}
<header>
    <link rel="stylesheet" href="/SFMS/static/css/profile.css') }}">
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    </header>
{% block main %}
{% include 'flash_messages.html' %}
<div class="container">
    <div class="row">
        <div class="col-25">
                    
        </div>
        <div class="col-75">
            <h1>{{g.user.firstname}}'s Profile</h1>
            <h2>User ID: {{g.user.id}}</h2>
            <h2>User Type: {{g.user.userType}}</h2>
            <img src="{{image}}" alt="Avatar" class = "profile">
        </div>

    </div>
    <div>
        <form action="" method="POST" enctype=multipart/form-data>
            <div class="row">
                <div class="col-25">
                    
                </div>
                <div class="col-75">
                    <label for="file">Upload a profile picture</label>
                    <input type="file" name="file">
                    
                </div>
            </div>
            <div class="row">
                
                    <input type="submit" name="upload" value="Upload" style="">
               
                
            </div>
            

        </form>
    </div>
    
    <div>
        <form action="" method="POST" onsubmit="return validate()">
            <div class="row">
                <div class="col-25">
                    <label for="p1">Change Your Password:</label>
                </div>
                <div class="col-75">
                    <input type="password" name="p1" id="pass1" required>
                    <span id = "message1" style="color:red"> </span>
                </div>
            </div>

            <div class="row">
                <div class="col-25">
                    <label for="p2">Retype New Password:</label>
                </div>
                <div class="col-75">
                    <input type="password" name="p2" id="pass2" required>
                    <span id = "message2" style="color:red"> </span>
                </div>
            </div>

            <div class="row">
                <button  type="submit" name="change">Change Password</button>
            </div>
        
        </form>
</div>

</div>

{% endblock %}

<script>
    function validate()
    {
        var password1 = document.getElementById('pass1').value;
        var password2 = document.getElementById('pass2').value;

        if (password1.length < 8){
            document.getElementById("message1").innerHTML = "Passwords length must be at least 8 characters";  
            return false;  
        }
        if (password1.length > 15){
            document.getElementById("message1").innerHTML = "Passwords length must be less than 15 characters";  
            return false;  
        }
        if (password1 != password2){
            document.getElementById("message2").innerHTML = "Passwords do not match!";  
            return false;  
        }
        else{
            return true;
        }


    }
</script>